/*! For license information please see store_quotation.a40a6fe5a293056f.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2233],{69128:(t,e,r)=>{r.d(e,{A:()=>_});var i=r(78061),a=r(5947),n=r.n(a),o=r(95353);const s={SUCCESS:"success",ERROR:"error",WARNING:"warning",DANGER:"danger"};function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(){l=function(){return e};var t,e={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function p(t,e,r,i){var n=e&&e.prototype instanceof g?e:g,o=Object.create(n.prototype),s=new U(i||[]);return a(o,"_invoke",{value:T(t,r,s)}),o}function _(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var f="suspendedStart",h="suspendedYield",v="executing",m="completed",b={};function g(){}function y(){}function x(){}var k={};d(k,o,(function(){return this}));var w=Object.getPrototypeOf,q=w&&w(w(D([])));q&&q!==r&&i.call(q,o)&&(k=q);var S=x.prototype=g.prototype=Object.create(k);function $(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(a,n,o,s){var l=_(t[a],t,n);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==u(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(d).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(l.arg)}var n;a(this,"_invoke",{value:function(t,i){function a(){return new e((function(e,a){r(t,i,e,a)}))}return n=n?n.then(a,a):a()}})}function T(e,r,i){var a=f;return function(n,o){if(a===v)throw Error("Generator is already running");if(a===m){if("throw"===n)throw o;return{value:t,done:!0}}for(i.method=n,i.arg=o;;){var s=i.delegate;if(s){var u=P(s,i);if(u){if(u===b)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===f)throw a=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=v;var l=_(e,r,i);if("normal"===l.type){if(a=i.done?m:h,l.arg===b)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(a=m,i.method="throw",i.arg=l.arg)}}}function P(e,r){var i=r.method,a=e.iterator[i];if(a===t)return r.delegate=null,"throw"===i&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+i+"' method")),b;var n=_(a,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,b;var o=n.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function U(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function r(){for(;++a<e.length;)if(i.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return n.next=n}}throw new TypeError(u(e)+" is not iterable")}return y.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:y,configurable:!0}),y.displayName=d(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,d(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},$(C.prototype),d(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,i,a,n){void 0===n&&(n=Promise);var o=new C(p(t,r,i,a),n);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},$(S),d(S,c,"Generator"),d(S,o,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var i in e)r.push(i);return r.reverse(),function t(){for(;r.length;){var i=r.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=D,U.prototype={constructor:U,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(i,a){return s.type="throw",s.arg=e,r.next=i,a&&(r.method="next",r.arg=t),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=t,o.arg=e,n?(this.method="next",this.next=n.finallyLoc,b):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var a=i.arg;N(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,i){return this.delegate={iterator:D(e),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=t),b}},e}function c(t,e,r,i,a,n,o){try{var s=t[n](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(i,a)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function p(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const _={created:function(){var t=this;Object.keys(this.registerEvents||{}).forEach((function(e){var r;return null===(r=Fire)||void 0===r?void 0:r.$on(e,t.registerEvents[e])}))},data:function(){return{registerEvents:{}}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,o.L8)(["currentUserPermissions","currentUser"])),methods:{makeToast:function(t,e,r){this.$root.$bvToast.toast(this.$t(e),{title:this.$t(r),variant:t,solid:!0})},makeErrorToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error";this.makeToast(s.ERROR,t,e)},makeSuccessToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success";this.makeToast(s.SUCCESS,t,e)},makeWarningToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Warning";this.makeToast(s.WARNING,t,e)},makeDangerToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Danger";this.makeToast(s.DANGER,t,e)},getValidationState:function(t){var e=t.dirty,r=t.validated,i=t.valid;return e||r?void 0===i?null:i:null},formatNumber:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return i.Ay.formatNumber(t,e)},displayCurrency:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{decimal:1,symbol:null},r=this.formatNumber(null!=t?t:"",e.decimal||1),i=e.symbol||this.data.symbol;return"".concat(i," ").concat(r)},fire:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("fire event",t,r),null===(e=Fire)||void 0===e||e.$emit(t,r)},execute:function(t){return(e=l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n().start(),n().set(.1),e.prev=2,e.next=5,Promise.resolve(t());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("mixin execute: ",e.t0);case 10:return e.prev=10,n().done(),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})),function(){var t=this,r=arguments;return new Promise((function(i,a){var n=e.apply(t,r);function o(t){c(n,i,a,o,s,"next",t)}function s(t){c(n,i,a,o,s,"throw",t)}o(void 0)}))})();var e}}}},78061:(t,e,r)=>{function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var i,a,n,o,s=[],u=!0,l=!1;try{if(n=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(i=n.call(r)).done)&&(s.push(i.value),s.length!==e);u=!0);}catch(t){l=!0,a=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}r.d(e,{Ay:()=>l,DU:()=>u,RP:()=>o,W2:()=>s,ZV:()=>n});var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=i(Number(t).toFixed(e).split("."),2),a=r[0],n=r[1];return e<=0?a:"".concat(a,".").concat(n)},o=function(t){return null!=t&&""!==t.trim()&&/\d/.test(t)&&0!==t},s=function(t){if(null==t)return!0;var e=Number(t);if(isNaN(e))return!0;if("string"==typeof t&&""===t.trim())return!0;var r=String(t);return!/^-?\d+(\.\d+)?$/.test(r)},u=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="",i=0;i<t;i++)r+=e.charAt(Math.floor(62*Math.random()));return r};const l={toggleFullScreen:function(){var t=window.document,e=t.documentElement,r=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen,i=t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen;t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement?i.call(t):r.call(e)},formatNumber:n,getValidationState:function(t){var e=t.dirty,r=t.validated,i=t.valid;return e||r?void 0===i?null:i:null},isNonZeroNumber:o,isNotANumber:s,randomString:u}},46045:(t,e,r)=>{r.r(e),r.d(e,{default:()=>c});var i=r(95353),a=r(5947),n=r.n(a);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function u(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const l={name:"CreateQuotation",mixins:[r(69128).A],metaInfo:{title:"Create Quotation"},data:function(){return{focused:!1,timer:null,search_input:"",product_filter:[],isLoading:!0,SubmitProcessing:!1,Submit_Processing_detail:!1,warehouses:[],units:[],clients:[],products:[],details:[],detail:{},quotations:[],quotation_with_stock:"",quote:{id:"",status:"pending",notes:"",date:(new Date).toISOString().slice(0,10),client_id:"",warehouse_id:"",tax_rate:0,TaxNet:0,shipping:0,discount:0},total:0,GrandTotal:0,product:{id:"",code:"",product_type:"",stock:"",quantity:1,discount:"",DiscountNet:"",discount_Method:"",sale_unit_id:"",fix_stock:"",fix_price:"",name:"",unitSale:"",net_price:"",Total_price:"",Unit_price:"",subtotal:"",product_id:"",detail_id:"",taxe:"",tax_percent:"",tax_method:"",product_variant_id:"",is_imei:"",imei_number:""},symbol:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,i.L8)(["currentUserPermissions","currentUser"])),methods:{handleFocus:function(){this.focused=!0},handleBlur:function(){this.focused=!1},Submit_Quotation:function(){var t=this;this.$refs.create_quote.validate().then((function(e){e?t.Create_Quotation():t.makeToast("danger",t.$t("Please_fill_the_form_correctly"),t.$t("Failed"))}))},submitUpdateDetail:function(){var t=this;this.$refs.Update_Detail_quote.validate().then((function(e){e&&t.Update_Detail()}))},getValidationState:function(t){var e=t.dirty,r=t.validated,i=t.valid;return e||r?void 0===i?null:i:null},makeToast:function(t,e,r){this.$root.$bvToast.toast(e,{title:r,variant:t,solid:!0})},get_units:function(t){var e=this;axios.get("get_units?id="+t).then((function(t){var r=t.data;return e.units=r}))},modal_update_detail:function(t){var e=this;this.execute((function(){e.detail={},e.get_units(t.product_id),e.detail.detail_id=t.detail_id,e.detail.sale_unit_id=t.sale_unit_id,e.detail.name=t.name,e.detail.product_type=t.product_type,e.detail.Unit_price=t.Unit_price,e.detail.fix_price=t.fix_price,e.detail.fix_stock=t.fix_stock,e.detail.stock=t.stock,e.detail.tax_method=t.tax_method,e.detail.discount_Method=t.discount_Method,e.detail.discount=t.discount,e.detail.quantity=t.quantity,e.detail.tax_percent=t.tax_percent,e.detail.is_imei=t.is_imei,e.detail.imei_number=t.imei_number,e.$nextTick((function(){e.$bvModal.show("form_Update_Detail")}))}))},Update_Detail:function(){var t=this;this.execute((function(){t.Submit_Processing_detail=!0;for(var e=0;e<t.details.length;e++)if(t.details[e].detail_id===t.detail.detail_id){for(var r=0;r<t.units.length;r++)t.units[r].id==t.detail.sale_unit_id&&("/"==t.units[r].operator?(t.details[e].stock=t.detail.fix_stock*t.units[r].operator_value,t.details[e].unitSale=t.units[r].short_name):(t.details[e].stock=t.detail.fix_stock/t.units[r].operator_value,t.details[e].unitSale=t.units[r].short_name));t.details[e].stock<t.details[e].quantity?t.details[e].quantity=t.details[e].stock:t.details[e].quantity=1,t.details[e].Unit_price=t.detail.Unit_price,t.details[e].tax_percent=t.detail.tax_percent,t.details[e].tax_method=t.detail.tax_method,t.details[e].discount_Method=t.detail.discount_Method,t.details[e].discount=t.detail.discount,t.details[e].sale_unit_id=t.detail.sale_unit_id,t.details[e].imei_number=t.detail.imei_number,t.details[e].product_type=t.detail.product_type,"2"==t.details[e].discount_Method?t.details[e].DiscountNet=t.details[e].discount:t.details[e].DiscountNet=parseFloat(t.details[e].Unit_price*t.details[e].discount/100),"1"==t.details[e].tax_method?(t.details[e].net_price=parseFloat(t.details[e].Unit_price-t.details[e].DiscountNet),t.details[e].taxe=parseFloat(t.details[e].tax_percent*(t.details[e].Unit_price-t.details[e].DiscountNet)/100)):(t.details[e].net_price=parseFloat((t.details[e].Unit_price-t.details[e].DiscountNet)/(t.details[e].tax_percent/100+1)),t.details[e].taxe=parseFloat(t.details[e].Unit_price-t.details[e].net_price-t.details[e].DiscountNet)),t.$forceUpdate()}t.Calcul_Total(),t.Submit_Processing_detail=!1,t.$nextTick((function(){t.$bvModal.hide("form_Update_Detail")}))}))},search:function(){var t=this;if(console.log("search input",this.search_input),this.timer&&(clearTimeout(this.timer),this.timer=null),this.search_input.length<2)return this.product_filter=[];""!=this.quote.warehouse_id&&null!=this.quote.warehouse_id?this.timer=setTimeout((function(){var e=t.products.filter((function(e){var r;return e.code===t.search_input||(null===(r=e.barcode)||void 0===r?void 0:r.includes(t.search_input))}));1===e.length?t.SearchProduct(e[0]):t.product_filter=t.products.filter((function(e){var r;return e.name.toLowerCase().includes(t.search_input.toLowerCase())||e.code.toLowerCase().includes(t.search_input.toLowerCase())||(null===(r=e.barcode)||void 0===r?void 0:r.toLowerCase().includes(t.search_input.toLowerCase()))}))}),300):this.makeToast("warning",this.$t("SelectWarehouse"),this.$t("Warning"))},getResultValue:function(t){return t.code+" ("+t.name+")"},SearchProduct:function(t){console.log("SearchProduct: ",t),this.product={},this.details.length>0&&this.details.some((function(e){return e.code===t.code}))?this.makeToast("warning",this.$t("AlreadyAdd"),this.$t("Warning")):("is_service"==t.product_type?(this.product.quantity=1,this.product.code=t.code):(this.product.code=t.code,this.product.stock=t.available_qty,this.product.fix_stock=t.qte,t.available_qty<1?(this.product.quantity=t.available_qty,this.makeDangerToast("Not enough stock")):this.product.quantity=1),this.product.product_variant_id=t.product_variant_id,this.getProductDetails(t.product_id,t.product_variant_id)),this.search_input="",this.$refs.product_autocomplete.value="",this.product_filter=[]},Selected_Warehouse:function(t){this.search_input="",this.product_filter=[],this.Get_Products_By_Warehouse(t)},Get_Products_By_Warehouse:function(t){var e=this;this.execute((function(){var r=new URLSearchParams({stock:e.quotation_with_stock,product_service:1,included_empty_stock:!0});axios.get("get_products_by_warehouse/".concat(t,"?")+r.toString()).then((function(t){e.products=t.data})).catch((function(t){console.error("Get_Products_By_Warehouse: ",t)}))}))},add_product:function(){this.details.length>0?this.Last_Detail_id():0===this.details.length&&(this.product.detail_id=1),this.details.push(this.product),this.product.is_imei&&this.modal_update_detail(this.product)},Verified_Qty:function(t,e){for(var r=0;r<this.details.length;r++)this.details[r].detail_id===e&&(isNaN(t.quantity)&&(this.details[r].quantity=t.stock),this.quotation_with_stock&&t.quantity>t.stock?(this.makeToast("warning",this.$t("LowStock"),this.$t("Warning")),this.details[r].quantity=t.stock):this.details[r].quantity=t.quantity);this.$forceUpdate(),this.Calcul_Total()},increment:function(t,e){for(var r=0;r<this.details.length;r++)this.details[r].detail_id==e&&(this.quotation_with_stock&&t.quantity+1>t.stock?this.makeToast("warning",this.$t("LowStock"),this.$t("Warning")):this.formatNumber(this.details[r].quantity++,2));this.$forceUpdate(),this.Calcul_Total()},decrement:function(t,e){for(var r=0;r<this.details.length;r++)this.details[r].detail_id==e&&t.quantity-1>0&&(this.quotation_with_stock&&t.quantity-1>t.stock?this.makeToast("warning",this.$t("LowStock"),this.$t("Warning")):this.formatNumber(this.details[r].quantity--,2));this.$forceUpdate(),this.Calcul_Total()},keyup_OrderTax:function(){isNaN(this.quote.tax_rate)?this.quote.tax_rate=0:""==this.quote.tax_rate?(this.quote.tax_rate=0,this.Calcul_Total()):this.Calcul_Total()},keyup_Discount:function(){isNaN(this.quote.discount)?this.quote.discount=0:""==this.quote.discount?(this.quote.discount=0,this.Calcul_Total()):this.Calcul_Total()},keyup_Shipping:function(){isNaN(this.quote.shipping)?this.quote.shipping=0:""==this.quote.shipping?(this.quote.shipping=0,this.Calcul_Total()):this.Calcul_Total()},formatNumber:function(t,e){var r=("string"==typeof t?t:t.toString()).split(".");if(e<=0)return r[0];var i=r[1]||"";if(i.length>e)return"".concat(r[0],".").concat(i.substr(0,e));for(;i.length<e;)i+="0";return"".concat(r[0],".").concat(i)},Calcul_Total:function(){this.total=0;for(var t=0;t<this.details.length;t++){var e=this.details[t].taxe*this.details[t].quantity;this.details[t].subtotal=parseFloat(this.details[t].quantity*this.details[t].net_price+e),this.total=parseFloat(this.total+this.details[t].subtotal)}var r=parseFloat(this.total-this.quote.discount);this.quote.TaxNet=parseFloat(r*this.quote.tax_rate/100),this.GrandTotal=parseFloat(r+this.quote.TaxNet+this.quote.shipping);var i=this.GrandTotal.toFixed(2);this.GrandTotal=parseFloat(i)},delete_Product_Detail:function(t){for(var e=0;e<this.details.length;e++)t===this.details[e].detail_id&&(this.details.splice(e,1),this.Calcul_Total())},verifiedForm:function(){if(this.details.length<=0)return this.makeToast("warning",this.$t("AddProductToList"),this.$t("Warning")),!1;for(var t=0,e=0;e<this.details.length;e++)""!=this.details[e].quantity&&0!==this.details[e].quantity||(t+=1);return!(t>0)||(this.makeToast("warning",this.$t("AddQuantity"),this.$t("Warning")),!1)},Create_Quotation:function(){var t=this;this.verifiedForm()&&(this.SubmitProcessing=!0,n().start(),n().set(.1),axios.post("quotations",{date:this.quote.date,client_id:this.quote.client_id,GrandTotal:this.GrandTotal,warehouse_id:this.quote.warehouse_id,status:this.quote.status,notes:this.quote.notes,tax_rate:this.quote.tax_rate?this.quote.tax_rate:0,TaxNet:this.quote.TaxNet?this.quote.TaxNet:0,Discount:this.quote.discount?this.quote.discount:0,shipping:this.quote.shipping?this.quote.shipping:0,details:this.details}).then((function(e){n().done(),t.makeToast("success",t.$t("Create.TitleQuote"),t.$t("Success")),t.SubmitProcessing=!1,t.$router.push({name:"index_quotation"})})).catch((function(e){n().done(),t.makeToast("danger",t.$t("InvalidData"),t.$t("Failed")),t.SubmitProcessing=!1})))},Last_Detail_id:function(){this.product.detail_id=0;var t=this.details.length;this.product.detail_id=this.details[t-1].detail_id+1},getProductDetails:function(t,e){var r=this;axios.get("/show_product_data/"+t+"/"+e).then((function(t){r.product.discount=0,r.product.DiscountNet=0,r.product.discount_Method="2",r.product.product_id=t.data.id,r.product.product_type=t.data.product_type,r.product.name=t.data.name,r.product.net_price=t.data.net_price,r.product.Unit_price=t.data.Unit_price,r.product.fix_price=t.data.fix_price,r.product.taxe=t.data.tax_price,r.product.tax_method=t.data.tax_method,r.product.tax_percent=t.data.tax_percent,r.product.unitSale=t.data.unitSale,r.product.sale_unit_id=t.data.sale_unit_id,r.product.is_imei=t.data.is_imei,r.product.imei_number="",r.add_product(),r.Calcul_Total()}))},GetElements:function(){var t=this;axios.get("quotations/create").then((function(e){t.clients=e.data.clients,t.warehouses=e.data.warehouses,t.quotation_with_stock=e.data.quotation_with_stock,t.isLoading=!1})).catch((function(e){setTimeout((function(){t.isLoading=!1}),500)}))}},created:function(){this.GetElements()}};const c=(0,r(14486).A)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("breadcumb",{attrs:{page:t.$t("AddQuote"),folder:t.$t("ListQuotations")}}),t._v(" "),t.isLoading?e("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():e("validation-observer",{ref:"create_quote"},[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.Submit_Quotation.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[e("b-card",[e("b-row",[e("b-col",{staticClass:"mb-3",attrs:{lg:"4",md:"4",sm:"12"}},[e("validation-provider",{attrs:{name:"date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(r){return[e("b-form-group",{attrs:{label:t.$t("date")+" *"}},[e("b-form-input",{attrs:{state:t.getValidationState(r),"aria-describedby":"date-feedback",type:"date"},model:{value:t.quote.date,callback:function(e){t.$set(t.quote,"date",e)},expression:"quote.date"}}),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"OrderTax-feedback"}},[t._v(t._s(r.errors[0])+"\n                                        ")])],1)]}}],null,!1,2533793082)})],1),t._v(" "),e("b-col",{staticClass:"mb-3",attrs:{lg:"4",md:"4",sm:"12"}},[e("validation-provider",{attrs:{name:"Customer",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(r){var i=r.valid,a=r.errors;return e("b-form-group",{attrs:{label:t.$t("Customer")+" *"}},[e("v-select",{class:{"is-invalid":!!a.length},attrs:{state:!a[0]&&(!!i||null),reduce:function(t){return t.value},placeholder:t.$t("Choose_Customer"),options:t.clients.map((function(t){return{label:t.name,value:t.id}}))},model:{value:t.quote.client_id,callback:function(e){t.$set(t.quote,"client_id",e)},expression:"quote.client_id"}}),t._v(" "),e("b-form-invalid-feedback",[t._v(t._s(a[0]))])],1)}}],null,!1,3668174986)})],1),t._v(" "),e("b-col",{staticClass:"mb-3",attrs:{lg:"4",md:"4",sm:"12"}},[e("validation-provider",{attrs:{name:"warehouse",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(r){var i=r.valid,a=r.errors;return e("b-form-group",{attrs:{label:t.$t("warehouse")+" *"}},[e("v-select",{class:{"is-invalid":!!a.length},attrs:{state:!a[0]&&(!!i||null),disabled:t.details.length>0,reduce:function(t){return t.value},placeholder:t.$t("Choose_Warehouse"),options:t.warehouses.map((function(t){return{label:t.name,value:t.id}}))},on:{input:t.Selected_Warehouse},model:{value:t.quote.warehouse_id,callback:function(e){t.$set(t.quote,"warehouse_id",e)},expression:"quote.warehouse_id"}}),t._v(" "),e("b-form-invalid-feedback",[t._v(t._s(a[0]))])],1)}}],null,!1,1180198048)})],1),t._v(" "),e("b-col",{staticClass:"mb-5",attrs:{md:"12"}},[e("h6",[t._v(t._s(t.$t("ProductName")))]),t._v(" "),e("div",{staticClass:"autocomplete",attrs:{id:"autocomplete"}},[e("input",{ref:"product_autocomplete",staticClass:"autocomplete-input",attrs:{placeholder:t.$t("Scan_Search_Product_by_Code_Name")},on:{input:function(e){return t.search_input=e.target.value},keyup:function(e){return t.search(t.search_input)},focus:t.handleFocus,blur:t.handleBlur}}),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.focused,expression:"focused"}],staticClass:"autocomplete-result-list"},t._l(t.product_filter,(function(r){return e("li",{staticClass:"autocomplete-result",on:{mousedown:function(e){return t.SearchProduct(r)}}},[t._v("\n                                            "+t._s(t.getResultValue(r))+"\n                                        ")])})),0)])]),t._v(" "),e("b-col",{attrs:{md:"12"}},[e("h5",[t._v(t._s(t.$t("order_products"))+" *")]),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover"},[e("thead",{staticClass:"bg-gray-300"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("ProductName")))]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Net_Unit_Price")))]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("CurrentStock")))]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Qty")))]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Discount")))]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Tax")))]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("SubTotal")))]),t._v(" "),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[e("i",{staticClass:"fa fa-trash"})])])]),t._v(" "),e("tbody",[t.details.length<=0?e("tr",[e("td",{attrs:{colspan:"9"}},[t._v(t._s(t.$t("NodataAvailable")))])]):t._e(),t._v(" "),t._l(t.details,(function(r){return e("tr",[e("td",[t._v(t._s(r.detail_id))]),t._v(" "),e("td",[e("span",[t._v(t._s(r.code))]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"badge badge-success"},[t._v(t._s(r.name))])]),t._v(" "),e("td",[t._v(t._s(t.currentUser.currency)+" "+t._s(t.formatNumber(r.net_price,3))+"\n                                            ")]),t._v(" "),e("td",["is_service"==r.product_type?e("span",{staticClass:"badge badge-warning"},[t._v("----")]):e("span",{staticClass:"badge badge-warning"},[t._v(t._s(r.stock)+" "+t._s(r.unitSale))])]),t._v(" "),e("td",[e("div",{staticClass:"quantity"},[e("b-input-group",[e("b-input-group-prepend",[e("span",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.decrement(r,r.detail_id)}}},[t._v("-")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:r.quantity,expression:"detail.quantity",modifiers:{number:!0}}],staticClass:"form-control",attrs:{min:0,max:r.stock},domProps:{value:r.quantity},on:{keyup:function(e){return t.Verified_Qty(r,r.detail_id)},input:function(e){e.target.composing||t.$set(r,"quantity",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),e("b-input-group-append",[e("span",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.increment(r,r.detail_id)}}},[t._v("+")])])],1)],1)]),t._v(" "),e("td",[t._v(t._s(t.currentUser.currency)+"\n                                                "+t._s(t.formatNumber(r.DiscountNet*r.quantity,2))+"\n                                            ")]),t._v(" "),e("td",[t._v(t._s(t.currentUser.currency)+"\n                                                "+t._s(t.formatNumber(r.taxe*r.quantity,2))+"\n                                            ")]),t._v(" "),e("td",[t._v(t._s(t.currentUser.currency)+" "+t._s(r.subtotal.toFixed(2)))]),t._v(" "),e("td",[t.currentUserPermissions&&t.currentUserPermissions.includes("edit_product_quotation")?e("i",{staticClass:"i-Edit text-25 text-success cursor-pointer",on:{click:function(e){return t.modal_update_detail(r)}}}):t._e(),t._v(" "),e("i",{staticClass:"i-Close-Window text-25 text-danger cursor-pointer",on:{click:function(e){return t.delete_Product_Detail(r.detail_id)}}})])])}))],2)])])]),t._v(" "),e("div",{staticClass:"offset-md-9 col-md-3 mt-4"},[e("table",{staticClass:"table table-striped table-sm"},[e("tbody",[e("tr",[e("td",{staticClass:"bold"},[t._v(t._s(t.$t("OrderTax")))]),t._v(" "),e("td",[e("span",[t._v(t._s(t.currentUser.currency)+" "+t._s(t.quote.TaxNet.toFixed(2))+" ("+t._s(t.formatNumber(t.quote.tax_rate,2))+" %)")])])]),t._v(" "),e("tr",[e("td",{staticClass:"bold"},[t._v(t._s(t.$t("Discount")))]),t._v(" "),e("td",[t._v(t._s(t.currentUser.currency)+" "+t._s(t.quote.discount.toFixed(2)))])]),t._v(" "),e("tr",[e("td",{staticClass:"bold"},[t._v(t._s(t.$t("Shipping")))]),t._v(" "),e("td",[t._v(t._s(t.currentUser.currency)+" "+t._s(t.quote.shipping.toFixed(2)))])]),t._v(" "),e("tr",[e("td",[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Total")))])]),t._v(" "),e("td",[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.currentUser.currency)+" "+t._s(t.GrandTotal.toFixed(2)))])])])])])]),t._v(" "),t.currentUserPermissions&&t.currentUserPermissions.includes("edit_tax_discount_shipping_quotation")?e("b-col",{staticClass:"mb-3",attrs:{lg:"4",md:"4",sm:"12"}},[e("validation-provider",{attrs:{name:"Order Tax",rules:{regex:/^\d*\.?\d*$/}},scopedSlots:t._u([{key:"default",fn:function(r){return[e("b-form-group",{attrs:{label:t.$t("OrderTax")}},[e("b-input-group",{attrs:{append:"%"}},[e("b-form-input",{attrs:{state:t.getValidationState(r),"aria-describedby":"OrderTax-feedback",label:"Order Tax"},on:{keyup:function(e){return t.keyup_OrderTax()}},model:{value:t.quote.tax_rate,callback:function(e){t.$set(t.quote,"tax_rate",t._n(e))},expression:"quote.tax_rate"}})],1),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"OrderTax-feedback"}},[t._v(t._s(r.errors[0])+"\n                                        ")])],1)]}}],null,!1,2988573690)})],1):t._e(),t._v(" "),t.currentUserPermissions&&t.currentUserPermissions.includes("edit_tax_discount_shipping_quotation")?e("b-col",{staticClass:"mb-3",attrs:{lg:"4",md:"4",sm:"12"}},[e("validation-provider",{attrs:{name:"Discount",rules:{regex:/^\d*\.?\d*$/}},scopedSlots:t._u([{key:"default",fn:function(r){return[e("b-form-group",{attrs:{label:t.$t("Discount")}},[e("b-input-group",{attrs:{append:t.currentUser.currency}},[e("b-form-input",{attrs:{state:t.getValidationState(r),"aria-describedby":"Discount-feedback",label:"Discount"},on:{keyup:function(e){return t.keyup_Discount()}},model:{value:t.quote.discount,callback:function(e){t.$set(t.quote,"discount",t._n(e))},expression:"quote.discount"}})],1),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"Discount-feedback"}},[t._v(t._s(r.errors[0])+"\n                                        ")])],1)]}}],null,!1,2322769949)})],1):t._e(),t._v(" "),t.currentUserPermissions&&t.currentUserPermissions.includes("edit_tax_discount_shipping_quotation")?e("b-col",{staticClass:"mb-3",attrs:{lg:"4",md:"4",sm:"12"}},[e("validation-provider",{attrs:{name:"Shipping",rules:{regex:/^\d*\.?\d*$/}},scopedSlots:t._u([{key:"default",fn:function(r){return[e("b-form-group",{attrs:{label:t.$t("Shipping")}},[e("b-input-group",{attrs:{append:t.currentUser.currency}},[e("b-form-input",{attrs:{state:t.getValidationState(r),"aria-describedby":"Shipping-feedback",label:"Shipping"},on:{keyup:function(e){return t.keyup_Shipping()}},model:{value:t.quote.shipping,callback:function(e){t.$set(t.quote,"shipping",t._n(e))},expression:"quote.shipping"}})],1),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"Shipping-feedback"}},[t._v(t._s(r.errors[0])+"\n                                        ")])],1)]}}],null,!1,1048219197)})],1):t._e(),t._v(" "),e("b-col",{staticClass:"mb-3",attrs:{lg:"4",md:"4",sm:"12"}},[e("validation-provider",{attrs:{name:"Status",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(r){var i=r.valid,a=r.errors;return e("b-form-group",{attrs:{label:t.$t("Status")+" *"}},[e("v-select",{class:{"is-invalid":!!a.length},attrs:{state:!a[0]&&(!!i||null),reduce:function(t){return t.value},placeholder:t.$t("Choose_Status"),options:[{label:"Sent",value:"sent"},{label:"Pending",value:"pending"}]},model:{value:t.quote.status,callback:function(e){t.$set(t.quote,"status",e)},expression:"quote.status"}}),t._v(" "),e("b-form-invalid-feedback",[t._v(t._s(a[0]))])],1)}}],null,!1,2160221769)})],1),t._v(" "),e("b-col",{attrs:{md:"12"}},[e("b-form-group",{attrs:{label:t.$t("Note")}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.quote.notes,expression:"quote.notes"}],staticClass:"form-control",attrs:{rows:"4",placeholder:t.$t("Afewwords")},domProps:{value:t.quote.notes},on:{input:function(e){e.target.composing||t.$set(t.quote,"notes",e.target.value)}}})])],1),t._v(" "),e("b-col",{attrs:{md:"12"}},[e("b-form-group",[e("b-button",{attrs:{variant:"primary",disabled:t.SubmitProcessing},on:{click:t.Submit_Quotation}},[e("i",{staticClass:"i-Yes me-2 font-weight-bold"}),t._v(" "+t._s(t.$t("submit"))+"\n                                    ")]),t._v(" "),t.SubmitProcessing?t._m(0):t._e()],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("validation-observer",{ref:"Update_Detail_quote"},[e("b-modal",{attrs:{"hide-footer":"",size:"lg",id:"form_Update_Detail",title:t.detail.name}},[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitUpdateDetail.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{lg:"6",md:"6",sm:"12"}},[e("validation-provider",{attrs:{name:"Product Price",rules:{required:!0,regex:/^\d*\.?\d*$/}},scopedSlots:t._u([{key:"default",fn:function(r){return[e("b-form-group",{attrs:{label:t.$t("ProductPrice")+" *",id:"Price-input"}},[e("b-form-input",{attrs:{label:"Product Price",state:t.getValidationState(r),"aria-describedby":"Price-feedback"},model:{value:t.detail.Unit_price,callback:function(e){t.$set(t.detail,"Unit_price",e)},expression:"detail.Unit_price"}}),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"Price-feedback"}},[t._v(t._s(r.errors[0])+"\n                                ")])],1)]}}])})],1),t._v(" "),e("b-col",{attrs:{lg:"6",md:"6",sm:"12"}},[e("validation-provider",{attrs:{name:"Tax Method",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(r){var i=r.valid,a=r.errors;return e("b-form-group",{attrs:{label:t.$t("TaxMethod")+" *"}},[e("v-select",{class:{"is-invalid":!!a.length},attrs:{state:!a[0]&&(!!i||null),reduce:function(t){return t.value},placeholder:t.$t("Choose_Method"),options:[{label:"Exclusive",value:"1"},{label:"Inclusive",value:"2"}]},model:{value:t.detail.tax_method,callback:function(e){t.$set(t.detail,"tax_method",e)},expression:"detail.tax_method"}}),t._v(" "),e("b-form-invalid-feedback",[t._v(t._s(a[0]))])],1)}}])})],1),t._v(" "),e("b-col",{attrs:{lg:"6",md:"6",sm:"12"}},[e("validation-provider",{attrs:{name:"Order Tax",rules:{required:!0,regex:/^\d*\.?\d*$/}},scopedSlots:t._u([{key:"default",fn:function(r){return[e("b-form-group",{attrs:{label:t.$t("OrderTax")+" *"}},[e("b-input-group",{attrs:{append:"%"}},[e("b-form-input",{attrs:{label:"Order Tax",state:t.getValidationState(r),"aria-describedby":"OrderTax-feedback"},model:{value:t.detail.tax_percent,callback:function(e){t.$set(t.detail,"tax_percent",e)},expression:"detail.tax_percent"}})],1),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"OrderTax-feedback"}},[t._v(t._s(r.errors[0])+"\n                                ")])],1)]}}])})],1),t._v(" "),e("b-col",{attrs:{lg:"6",md:"6",sm:"12"}},[e("validation-provider",{attrs:{name:"Discount Method",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(r){var i=r.valid,a=r.errors;return e("b-form-group",{attrs:{label:t.$t("Discount_Method")+" *"}},[e("v-select",{class:{"is-invalid":!!a.length},attrs:{reduce:function(t){return t.value},placeholder:t.$t("Choose_Method"),state:!a[0]&&(!!i||null),options:[{label:"Percent %",value:"1"},{label:"Fixed",value:"2"}]},model:{value:t.detail.discount_Method,callback:function(e){t.$set(t.detail,"discount_Method",e)},expression:"detail.discount_Method"}}),t._v(" "),e("b-form-invalid-feedback",[t._v(t._s(a[0]))])],1)}}])})],1),t._v(" "),e("b-col",{attrs:{lg:"6",md:"6",sm:"12"}},[e("validation-provider",{attrs:{name:"Discount Rate",rules:{required:!0,regex:/^\d*\.?\d*$/}},scopedSlots:t._u([{key:"default",fn:function(r){return[e("b-form-group",{attrs:{label:t.$t("Discount")+" *"}},[e("b-form-input",{attrs:{label:"Discount",state:t.getValidationState(r),"aria-describedby":"Discount-feedback"},model:{value:t.detail.discount,callback:function(e){t.$set(t.detail,"discount",e)},expression:"detail.discount"}}),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"Discount-feedback"}},[t._v(t._s(r.errors[0])+"\n                                ")])],1)]}}])})],1),t._v(" "),"is_service"!=t.detail.product_type?e("b-col",{attrs:{lg:"6",md:"6",sm:"12"}},[e("validation-provider",{attrs:{name:"Unit Sale",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(r){var i=r.valid,a=r.errors;return e("b-form-group",{attrs:{label:t.$t("UnitSale")+" *"}},[e("v-select",{class:{"is-invalid":!!a.length},attrs:{state:!a[0]&&(!!i||null),placeholder:t.$t("Choose_Unit_Sale"),reduce:function(t){return t.value},options:t.units.map((function(t){return{label:t.name,value:t.id}}))},model:{value:t.detail.sale_unit_id,callback:function(e){t.$set(t.detail,"sale_unit_id",e)},expression:"detail.sale_unit_id"}}),t._v(" "),e("b-form-invalid-feedback",[t._v(t._s(a[0]))])],1)}}],null,!1,1636962053)})],1):t._e(),t._v(" "),e("b-col",{directives:[{name:"show",rawName:"v-show",value:t.detail.is_imei,expression:"detail.is_imei"}],attrs:{lg:"12",md:"12",sm:"12"}},[e("b-form-group",{attrs:{label:t.$t("Add_product_IMEI_Serial_number")}},[e("b-form-input",{attrs:{label:"Add_product_IMEI_Serial_number",placeholder:t.$t("Add_product_IMEI_Serial_number")},model:{value:t.detail.imei_number,callback:function(e){t.$set(t.detail,"imei_number",e)},expression:"detail.imei_number"}})],1)],1),t._v(" "),e("b-col",{attrs:{md:"12"}},[e("b-form-group",[e("b-button",{attrs:{variant:"primary",type:"submit",disabled:t.Submit_Processing_detail}},[e("i",{staticClass:"i-Yes me-2 font-weight-bold"}),t._v(" "+t._s(t.$t("submit"))+"\n                            ")]),t._v(" "),t.Submit_Processing_detail?t._m(1):t._e()],1)],1)],1)],1)],1)],1)],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"typo__p"},[t("div",{staticClass:"spinner sm spinner-primary mt-3"})])},function(){var t=this._self._c;return t("div",{staticClass:"typo__p"},[t("div",{staticClass:"spinner sm spinner-primary mt-3"})])}],!1,null,null,null).exports}}]);